

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the RCE submit command line client (for advanced users) &mdash; RCE Cluster Tools 1.6.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="RCE Cluster Tools 1.6.0 documentation" href="../index.html"/>
        <link rel="next" title="Job lifetime limits in the RCE" href="../job_lifetime.html"/>
        <link rel="prev" title="Using the RCE submit client" href="../gui/using_the_rce_gui_client.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> RCE Cluster Tools
          

          
          </a>

          
            
            
              <div class="version">
                1.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gui/using_the_rce_gui_client.html">Using the RCE submit client</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using the RCE submit command line client (for advanced users)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#accessing-the-terminal">Accessing the terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#listing-available-applications">Listing available applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-an-application">Running an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#listing-running-applications">Listing running applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#re-attaching-an-application">(Re)attaching an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-custom-application-launcher">Creating a custom application launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-help">Getting help</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../job_lifetime.html">Job lifetime limits in the RCE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors.html">Diagnosing errors and warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_documentation.html">Operations/Development Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">RCE Cluster Tools</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Using the RCE submit command line client (for advanced users)</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/cmd/using_the_rce_cmd_client.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-the-rce-submit-command-line-client-for-advanced-users">
<h1>Using the RCE submit command line client (for advanced users)<a class="headerlink" href="#using-the-rce-submit-command-line-client-for-advanced-users" title="Permalink to this headline">¶</a></h1>
<div class="section" id="accessing-the-terminal">
<h2>Accessing the terminal<a class="headerlink" href="#accessing-the-terminal" title="Permalink to this headline">¶</a></h2>
<p>If you&#8217;re working within a NoMachine NX session, open the terminal by
selecting Applications → System Tools → Terminal.</p>
<p>You can also SSH to <code class="docutils literal"><span class="pre">rce.hmdc.harvard.edu</span></code> if you prefer to launch
interactive jobs outside of a NoMachine NX4 session, but, you will still
need an X server running client-side. If you&#8217;re currently running any
variant of the Linux operating system, using <code class="docutils literal"><span class="pre">ssh</span> <span class="pre">-X</span></code> should suffice,
otherwise, follow these links to download X servers for your operating
system:</p>
<ul class="simple">
<li>Windows: <a class="reference external" href="http://www.straightrunning.com/xmingnotes/">Xming</a></li>
<li>OS X: <a class="reference external" href="http://www.xquartz.org/">Xquartz</a></li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">HMDC does not support locally installed X servers, only NoMachine
NX4. However, if you feel comfortable operating a locally installed X
server, feel free to give it a whirl!</p>
</div>
</div>
<div class="section" id="listing-available-applications">
<h2>Listing available applications<a class="headerlink" href="#listing-available-applications" title="Permalink to this headline">¶</a></h2>
<p>While GUI RCE submit tools only supports Matlab for the rest of the 2015
calendar year, the RCE submit tools command line client supports all
applications in the RCE. You can list which applications are supported
by running the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rce_submit</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="nb">list</span>
</pre></div>
</div>
<p>which will output a list of supported applications and versions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">**</span> <span class="n">denotes</span> <span class="n">default</span>
<span class="n">Application</span>    <span class="n">Version</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="o">-------------</span>  <span class="o">------------</span>
<span class="n">gauss</span>          <span class="mi">14</span> <span class="o">**</span>
               <span class="mi">8</span>
<span class="n">mathematica</span>    <span class="mf">10.2</span><span class="o">.</span><span class="mi">0</span>
               <span class="mf">10.1</span><span class="o">.</span><span class="mi">0</span>
               <span class="mf">10.3</span><span class="o">.</span><span class="mi">0</span> <span class="o">**</span>
<span class="n">matlab</span>         <span class="n">R2015a</span> <span class="o">**</span>
               <span class="n">R2012a</span>
               <span class="n">R2013a</span>
               <span class="n">R2014b</span>
               <span class="n">R2014a</span>
               <span class="n">R2010b</span>
<span class="n">octave</span>         <span class="mf">3.4</span><span class="o">.</span><span class="mi">3</span> <span class="o">**</span>
<span class="n">python</span>         <span class="mf">3.3</span>
               <span class="mf">2.7</span> <span class="o">**</span>
<span class="n">R</span>              <span class="mf">3.2</span> <span class="o">**</span>
<span class="n">rstudio</span>        <span class="mf">0.98</span> <span class="o">**</span>
<span class="n">SAS</span>            <span class="mf">9.3</span>
               <span class="mf">9.4</span> <span class="o">**</span>
<span class="n">shell</span>          <span class="mf">2.31</span><span class="o">.</span><span class="mi">3</span> <span class="o">**</span>
<span class="n">StatTransfer</span>   <span class="mi">12</span> <span class="o">**</span>
<span class="n">xstata</span><span class="o">-</span><span class="n">mp</span>      <span class="mf">13.1</span>
               <span class="mf">14.0</span> <span class="o">**</span>
<span class="n">xstata</span><span class="o">-</span><span class="n">se</span>      <span class="mf">13.1</span>
               <span class="mf">14.0</span> <span class="o">**</span>
</pre></div>
</div>
</div>
<div class="section" id="running-an-application">
<h2>Running an application<a class="headerlink" href="#running-an-application" title="Permalink to this headline">¶</a></h2>
<p>You can run the default version of the application <code class="docutils literal"><span class="pre">python</span></code>, by
executing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rce_submit</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">a</span> <span class="n">python</span>
</pre></div>
</div>
<p>You can run <code class="docutils literal"><span class="pre">python</span> <span class="pre">3.3</span></code> by executing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rce_submit</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">a</span> <span class="n">python</span> <span class="o">-</span><span class="n">v</span> <span class="mf">3.3</span>
</pre></div>
</div>
</div>
<div class="section" id="listing-running-applications">
<h2>Listing running applications<a class="headerlink" href="#listing-running-applications" title="Permalink to this headline">¶</a></h2>
<p>You can list which RCE interactive applications you are currently
running, whether attached or detached, by executing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rce_submit</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">jobs</span>
</pre></div>
</div>
<p>which produces the following output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>  <span class="n">Job</span> <span class="n">Id</span>  <span class="n">Application</span>    <span class="n">Version</span>    <span class="n">Requested</span> <span class="n">Cpus</span>    <span class="n">Requested</span> <span class="n">Memory</span>
<span class="o">--------</span>  <span class="o">-------------</span>  <span class="o">---------</span>  <span class="o">----------------</span>  <span class="o">------------------</span>
     <span class="mi">174</span>  <span class="n">xstata</span><span class="o">-</span><span class="n">mp</span>      <span class="mf">14.0</span>       <span class="mi">4</span>                 <span class="mi">6144</span>
     <span class="mi">183</span>  <span class="n">matlab</span>         <span class="n">R2015a</span>     <span class="mi">1</span>                 <span class="mi">12288</span>
     <span class="mi">113</span>  <span class="n">shell</span>          <span class="mf">2.31</span><span class="o">.</span><span class="mi">3</span>     <span class="mi">1</span>                 <span class="mi">2048</span>
     <span class="mi">110</span>  <span class="n">shell</span>          <span class="mf">2.31</span><span class="o">.</span><span class="mi">3</span>     <span class="mi">1</span>                 <span class="mi">2048</span>
</pre></div>
</div>
</div>
<div class="section" id="re-attaching-an-application">
<h2>(Re)attaching an application<a class="headerlink" href="#re-attaching-an-application" title="Permalink to this headline">¶</a></h2>
<p>If you&#8217;ve disconnected your application from yoiur desktop, you can
re-attach it using the command line tools by first running
<code class="docutils literal"><span class="pre">rce_submit.py</span> <span class="pre">--jobs</span></code>, noting the Job Id of the job you want to
re-attach and then executing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rce_submit</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">attach</span> <span class="mi">174</span>
</pre></div>
</div>
<p>In the above example, I reattached xstata-mp.</p>
</div>
<div class="section" id="creating-a-custom-application-launcher">
<h2>Creating a custom application launcher<a class="headerlink" href="#creating-a-custom-application-launcher" title="Permalink to this headline">¶</a></h2>
<p>You may have installed an application locally to your home directory
which has GUI capabilities and want to run this application in our
HTCondor cluster. RCE cluster tools uses a configuration file format
called <code class="docutils literal"><span class="pre">rceapp.yml</span></code> to manage application settings.</p>
<p>First, you should copy the existing <code class="docutils literal"><span class="pre">rceapp.yml</span></code> into your home
directory to get an idea of how this file is structured:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cp /etc/rceapp.yml $HOME
</pre></div>
</div>
<p>Here is a simple stanza from rceapp.yml describing the gnome-terminal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>shell:
  global:
    memory: 2048
    cpu: 1
    icon: /usr/share/icons/gnome/32x32/apps/gnome-terminal.png
    supports_memory_adjustable: true
    supports_cpu_adjustable: true
    supports_cli_mode: true
  &#39;2.31.3&#39;:
    default: true
    command: /usr/bin/gnome-terminal
    command_nogui: $ENV(SHELL)
</pre></div>
</div>
<p>Presume that I want to run firefox as an interactive job in the RCE
cluster. I would first edit my local rceapp.yml at <code class="docutils literal"><span class="pre">$HOME/rceapp.yml</span></code>
and add the following stanza:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">firefox</span><span class="p">:</span>
  <span class="k">global</span><span class="p">:</span>
    <span class="n">memory</span><span class="p">:</span> <span class="mi">2048</span>
    <span class="n">cpu</span><span class="p">:</span> <span class="mi">1</span>
    <span class="n">icon</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">icons</span><span class="o">/</span><span class="n">gnome</span><span class="o">/</span><span class="mi">32</span><span class="n">x32</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">gnome</span><span class="o">-</span><span class="n">terminal</span><span class="o">.</span><span class="n">png</span>
    <span class="n">supports_memory_adjustable</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">supports_cpu_adjustable</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">supports_cli_mode</span><span class="p">:</span> <span class="n">true</span>
  <span class="s1">&#39;10.0&#39;</span><span class="p">:</span>
    <span class="n">default</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">command</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">firefox</span>
</pre></div>
</div>
<p>Then, I could run firefox by running the following command, which would
create a firefox job that consumes 1 CPU and 2048 MiB of memory:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>rce_submit.py -c $HOME/rceapp.yml -r -a firefox
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">-c</span></code> switch designates that you&#8217;re using a custom <code class="docutils literal"><span class="pre">rceapp.yml</span></code>
rather than the system-wide <code class="docutils literal"><span class="pre">rceapp.yml</span></code> in <code class="docutils literal"><span class="pre">/etc</span></code></p>
</div>
<div class="section" id="getting-help">
<h2>Getting help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>Running the following command will print out inline help for
rce_submit.py:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rce_submit</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">help</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../job_lifetime.html" class="btn btn-neutral float-right" title="Job lifetime limits in the RCE" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../gui/using_the_rce_gui_client.html" class="btn btn-neutral" title="Using the RCE submit client" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Evan Sarmiento.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.6.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>